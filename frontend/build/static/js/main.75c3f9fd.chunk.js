(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{24:function(e,n,t){},32:function(e,n,t){},33:function(e,n,t){},34:function(e,n,t){},40:function(e,n,t){},41:function(e,n,t){},42:function(e,n,t){},43:function(e,n,t){},45:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t.n(r),c=t(25),s=t.n(c),i=(t(32),t(6)),o=t(3),l=(t(33),t(10)),d=(t(34),t.p+"static/media/logo.3ccc430f.svg"),u=t(0),h=function(){return Object(u.jsxs)("nav",{id:"navbar",children:[Object(u.jsx)(i.b,{to:"/",children:Object(u.jsx)("img",{src:d,alt:"Live Demo Logo"})}),Object(u.jsxs)("div",{className:"nav-links",children:[Object(u.jsx)(i.b,{to:"/session-end",children:Object(u.jsx)("h5",{children:"(TEMP) session-end"})}),Object(u.jsx)(i.b,{to:"/room",children:Object(u.jsx)("h5",{children:"(TEMP) room"})}),Object(u.jsx)(i.b,{to:"/recordings",children:Object(u.jsx)("h5",{children:"Recordings"})}),Object(u.jsx)(i.b,{to:"/join",children:Object(u.jsx)("h5",{children:"Join session"})}),Object(u.jsx)(i.b,{to:"/start",children:Object(u.jsx)("h5",{className:"outlined-button",children:"Start session"})})]})]})},j=(t(40),function(e){return Object(l.a)(e),Object(u.jsxs)("div",{className:"max-width",children:[Object(u.jsx)(h,{}),Object(u.jsxs)("div",{className:"dialog",children:[Object(u.jsxs)("div",{className:"form",children:[Object(u.jsx)("h3",{children:"Join session"}),Object(u.jsx)("label",{htmlFor:"display-name",className:"input-label",title:"Enter your email to log in",children:"Display name"}),Object(u.jsx)("input",{id:"display-name",placeholder:"Display name (visible to other users)",className:"input"}),Object(u.jsx)("label",{htmlFor:"session-code",className:"input-label",title:"Enter your email to log in",children:"Session code"}),Object(u.jsx)("input",{id:"session-code",placeholder:"Six digit session code",className:"input",pattern:"\\d*",maxLength:6})]}),Object(u.jsx)("button",{className:"primary-btn",children:"Join session"})]})]})}),b=t.p+"static/media/Sleepy.d38f69f1.png",p=(t(24),function(e){return Object(l.a)(e),Object(u.jsxs)("div",{className:"max-width",children:[Object(u.jsx)(h,{}),Object(u.jsxs)("div",{className:"dialog",children:[Object(u.jsxs)("div",{className:"recording-none",children:[Object(u.jsx)("img",{draggable:"false",src:b,alt:""}),Object(u.jsx)("h4",{children:"This session has ended"}),Object(u.jsx)("p",{children:"Thank you for using Live Record."})]}),Object(u.jsx)(i.b,{to:"/",children:Object(u.jsx)("button",{className:"primary-btn",children:"Home page"})})]})]})}),f=(t(41),function(e){return Object(l.a)(e),Object(u.jsxs)("div",{className:"max-width",children:[Object(u.jsx)(h,{}),Object(u.jsxs)("div",{className:"dialog",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{children:"Create a session"}),Object(u.jsx)("label",{htmlFor:"display-name",className:"input-label",title:"Enter your email to log in",children:"Display name"}),Object(u.jsx)("input",{id:"display-name",placeholder:"Display name (visible to other users)",className:"input"})]}),Object(u.jsx)("button",{className:"primary-btn",children:"Start session"})]})]})}),v=t.p+"static/media/chrome.56af9a41.svg",g=t.p+"static/media/edge.7d5fb6e4.svg",x=t.p+"static/media/FaceWithMask.c9919455.png",O=t.p+"static/media/LiveDemo.7466fab4.png",m=t.p+"static/media/Selfie.d2486853.png",C=t.p+"static/media/StarEyes.4ad4346d.png",S=(t(42),t(43),function(){return Object(u.jsxs)("div",{className:"max-width",children:[Object(u.jsx)(h,{}),Object(u.jsxs)("div",{className:"feature-wrapper",children:[Object(u.jsxs)("div",{id:"hero-banner",children:[Object(u.jsxs)("div",{className:"hero-text",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Record faster,"}),Object(u.jsx)("h1",{id:"together",children:"together"})]}),Object(u.jsx)("h5",{className:"",children:"Live Record connects everyone in the presentation process so teams can deliver better recordings, faster."}),Object(u.jsx)(i.b,{to:"/start",children:Object(u.jsx)("button",{id:"hero-button",children:"Start recording now"})})]}),Object(u.jsx)("img",{className:"hero-img",src:O,alt:""})]}),Object(u.jsx)("h3",{className:"title",children:"Features"}),Object(u.jsxs)("div",{className:"row-cards",children:[Object(u.jsxs)("div",{className:"card purple",children:[Object(u.jsx)("img",{src:m,alt:""}),Object(u.jsx)("h2",{children:"Record"}),Object(u.jsx)("p",{children:"Record the video, audio and screen of everyone in the room. Recordings are saved to the host's device."})]}),Object(u.jsxs)("div",{className:"card blue",children:[Object(u.jsx)("img",{src:C,alt:""}),Object(u.jsx)("h2",{children:"Collaborate"}),Object(u.jsx)("p",{children:"Collaborate with up to four members of your team in real time with screen drawing and shape creation."})]}),Object(u.jsxs)("div",{className:"card yellow",children:[Object(u.jsx)("img",{src:x,alt:""}),Object(u.jsx)("h2",{children:"No accounts"}),Object(u.jsx)("p",{children:"You can create and join a room quickly. No account required and the site works well on any device."})]})]}),Object(u.jsxs)("div",{className:"long-card",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Works best on Chromium browsers"}),Object(u.jsx)("p",{children:"Ensuring your experience is the best it can be we recommend using a Chromium browser like Google Chrome or Microsoft Edge."})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:v,alt:""}),Object(u.jsx)("img",{src:g,alt:""})]})]}),Object(u.jsxs)("div",{className:"footer",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{children:"Hello from Toronto,"}),Object(u.jsx)("h3",{children:"Canada"})]}),Object(u.jsxs)("div",{className:"credits",children:[Object(u.jsx)("p",{children:"Created by Julian de Rushe, Brian Latchman, Tomasz Cieslak."}),Object(u.jsx)("p",{children:"All rights reserved, 2021."})]})]})]})]})}),y=t(14),w=t(2),N=t.n(w),k=t(4),E=t(11),D=t(13),I=t(16),R=t.n(I),T=t(47);R.a.config({driver:R.a.INDEXEDDB,name:"myApp",version:1,size:4980736,storeName:"keyvaluepairs",description:"some description"});var P=function(){function e(){Object(E.a)(this,e),this._recordingsDb=void 0,this._metadataDb=void 0}return Object(D.a)(e,[{key:"initDB",value:function(){this._recordingsDb=R.a.createInstance({name:"recordings"}),this._metadataDb=R.a.createInstance({name:"metadata"})}},{key:"getAllMetaData",value:function(){var e=Object(k.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,this._metadataDb.iterate((function(e,t,r){n.push(e)})).then((function(e){})).catch((function(e){console.log(e)}));case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getRecording",value:function(){var e=Object(k.a)(N.a.mark((function e(n){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._recordingsDb.getItem(n);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"uploadVideo",value:function(){var e=Object(k.a)(N.a.mark((function e(n,t,r,a,c){var s,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Object(T.a)(),i={_uuid:s,date:n,duration:t,size:r,people:a},e.next=4,this._metadataDb.setItem(s,i).then((function(e){console.log("metadata uploaded")})).catch((function(e){console.log(e)}));case 4:return e.next=6,this._recordingsDb.setItem(s,c).then((function(e){console.log("video uploaded")})).catch((function(e){console.log(e)}));case 6:case"end":return e.stop()}}),e,this)})));return function(n,t,r,a,c){return e.apply(this,arguments)}}()},{key:"deleteVideo",value:function(){var e=Object(k.a)(N.a.mark((function e(n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._metadataDb.removeItem(n).then((function(){console.log("Metadata removed for",n)})).catch((function(e){console.log(e)}));case 2:return e.next=4,this._recordingsDb.removeItem(n).then((function(){console.log("Recording removed for",n)})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()}],[{key:"instance",get:function(){return null==e._instance&&(e._instance=new e),this._instance}}]),e}();P._instance=void 0;var _,J,L=t.p+"static/media/Wink.723be5f4.png",M=function(e){Object(l.a)(e),P.instance.initDB();var n=function(){var e=Object(k.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P.instance.getAllMetaData().then((function(e){s(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=Object(r.useState)((function(){return n(),null})),a=Object(y.a)(t,2),c=a[0],s=a[1],o=function(e,t,r,a,c){P.instance.uploadVideo(e,t,r,a,c).then((function(){n()}))};return c&&0===c.length?Object(u.jsxs)("div",{className:"max-width",children:[Object(u.jsx)(h,{}),Object(u.jsxs)("div",{className:"dialog",children:[Object(u.jsxs)("div",{className:"recording-none",children:[Object(u.jsx)("img",{draggable:"false",src:L,alt:""}),Object(u.jsx)("h4",{children:"So empty in here"}),Object(u.jsx)("p",{children:"I wonder what that button does..."})]}),Object(u.jsx)(i.b,{to:"/start",children:Object(u.jsx)("button",{className:"primary-btn",children:"Start session"})}),Object(u.jsx)("button",{className:"primary-btn",onClick:function(){o(new Date,"1:15",10024,["Tomasz","Brian","Julian"],new Blob)},children:"(TEMP) Upload video"})]})]}):c&&c.length>=0?Object(u.jsxs)("div",{className:"max-width",children:[Object(u.jsx)(h,{}),Object(u.jsx)("h3",{children:"Recordings"}),Object(u.jsx)("table",{children:Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Date"}),Object(u.jsx)("th",{children:"Duration"}),Object(u.jsx)("th",{children:"Size"}),Object(u.jsx)("th",{children:"People"}),Object(u.jsx)("th",{children:"Controls"})]}),c.map((function(e,t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.date.getMonth()+1+"-"+e.date.getDate()+"-"+e.date.getFullYear()+" - "+e.date.toLocaleString("en-US",{timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone,hour:"numeric",minute:"numeric",hour12:!0})}),Object(u.jsx)("td",{children:e.duration}),Object(u.jsx)("td",{children:JSON.stringify(e.size)}),Object(u.jsx)("td",{children:e.people.join(", ")}),Object(u.jsxs)("td",{children:[Object(u.jsx)("button",{onClick:function(){return n=e._uuid,void P.instance.getRecording(n).then((function(e){alert("download video ".concat(n))})).catch((function(e){console.log(e)}));var n},children:"Download"}),Object(u.jsx)("button",{onClick:function(){return t=e._uuid,void P.instance.deleteVideo(t).then((function(e){n()})).catch((function(e){console.log(e)}));var t},children:"Delete"})]})]},t)}))]})}),Object(u.jsx)("button",{className:"primary-btn",onClick:function(){o(new Date,"1:15",10024,["Tomasz","Brian","Julian"],new Blob)},children:"(TEMP) Upload video"})]}):Object(u.jsx)("div",{className:"max-width",children:Object(u.jsx)(h,{})})},A=t(18),B=t(17),F=function(){function e(){Object(E.a)(this,e),this.signalingConnection=null,this.onSignalingMessage=function(){var e=Object(k.a)(N.a.mark((function e(n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}return Object(D.a)(e,[{key:"signalingSend",value:function(e,n){var t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";null===(t=this.signalingConnection)||void 0===t||t.send(JSON.stringify({id:r,type:e,data:n}))}},{key:"signalingConnect",value:function(){var e=this;return new Promise((function(n,t){e.signalingConnection&&e.signalingConnection.OPEN&&e.signalingConnection.close(),e.signalingConnection=new WebSocket("ws://".concat(window.location.hostname,":25566")),e.signalingConnection.onmessage=e.onSignalingMessage,e.signalingConnection.onclose=function(){console.log("Signalling Closed"),t()},e.signalingConnection.onerror=function(e){console.error("onerror",e),t(e)},e.signalingConnection.onopen=function(){console.log("Signalling Opened"),n()}}))}}]),e}();!function(e){e[e.CAMERA=0]="CAMERA",e[e.SCREEN_SHARE=1]="SCREEN_SHARE"}(_||(_={})),function(e){e[e.SESSION_CREATE=0]="SESSION_CREATE",e[e.CONNECT=1]="CONNECT",e[e.ICE=2]="ICE"}(J||(J={}));var W,z={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:129.213.138.47",username:"webrtc",credential:"696969"}]};!function(e){e[e.NEW_USER=0]="NEW_USER",e[e.ICE=1]="ICE",e[e.SDP=2]="SDP"}(W||(W={}));var V=function(e){Object(A.a)(t,e);var n=Object(B.a)(t);function t(){var e;Object(E.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=n.call.apply(n,[this].concat(a))).users=[],e.serverChannel=null,e.serverConn=null,e.candidates=[],e.userId="",e.connect=function(){var n=Object(k.a)(N.a.mark((function n(t){return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(){var n=Object(k.a)(N.a.mark((function n(r,a){var c,s;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("Connecting..."),e.userId="",n.next=4,e.signalingConnect();case 4:return e.serverConn=new RTCPeerConnection(z),e.serverChannel=e.serverConn.createDataChannel("general",{negotiated:!0,id:0}),c=!1,s=!1,e.serverChannel.addEventListener("open",(function(n){console.log("OPENED"),r(),e.serverConn&&e.serverChannel&&(console.log("Client: Con: ".concat(e.serverConn.connectionState,", ICE: ").concat(e.serverConn.iceConnectionState)),e.serverConn.onicecandidate=function(n){var t,r=n.candidate;r&&(null===(t=e.serverChannel)||void 0===t||t.send(JSON.stringify({type:W.ICE,data:r})))},e.serverConn.onnegotiationneeded=Object(k.a)(N.a.mark((function n(){return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.serverConn&&e.serverChannel){n.next=2;break}return n.abrupt("return");case 2:return console.log("New SDP Needed"),n.prev=3,c=!0,n.next=7,e.serverConn.setLocalDescription();case 7:e.serverChannel.send(JSON.stringify({type:W.SDP,data:e.serverConn.localDescription})),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),console.error(n.t0);case 13:return n.prev=13,c=!1,n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[3,10,13,16]])}))),console.log("Connected"))})),e.serverChannel.onmessage=function(){var n=Object(k.a)(N.a.mark((function n(t){var r,a,i;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.serverConn&&e.serverChannel){n.next=2;break}return n.abrupt("return");case 2:if((r=JSON.parse(t.data)).type!==W.SDP){n.next=24;break}if(n.prev=4,a=r.data,i="offer"===a.type&&(c||"stable"!==e.serverConn.signalingState),!(s=i)){n.next=10;break}return n.abrupt("return");case 10:return console.log("New remote SDP, Type: ".concat(a.type)),n.next=13,e.serverConn.setRemoteDescription(a);case 13:if("offer"!==a.type){n.next=17;break}return n.next=16,e.serverConn.setLocalDescription();case 16:e.serverChannel.send(JSON.stringify({type:W.SDP,data:e.serverConn.localDescription}));case 17:n.next=22;break;case 19:n.prev=19,n.t0=n.catch(4),console.error(n.t0);case 22:n.next=34;break;case 24:if(r.type!==W.ICE){n.next=34;break}return n.prev=25,n.next=28,e.serverConn.addIceCandidate(r.data);case 28:n.next=34;break;case 30:if(n.prev=30,n.t1=n.catch(25),s){n.next=34;break}throw n.t1;case 34:case"end":return n.stop()}}),n,null,[[4,19],[25,30]])})));return function(e){return n.apply(this,arguments)}}(),e.serverConn.oniceconnectionstatechange=function(){var n;"failed"===(null===(n=e.serverConn)||void 0===n?void 0:n.iceConnectionState)&&e.serverConn.restartIce()},e.serverConn.onicecandidate=function(n){var t=n.candidate;if(t&&(e.candidates.push(t),!e.userId)){for(var r=0;r<e.candidates.length;r++)e.signalingSend(J.ICE,{candidate:e.candidates[r]});e.candidates.splice(0,e.candidates.length)}},n.next=14,e.serverConn.setLocalDescription();case 14:e.signalingSend(J.CONNECT,{description:e.serverConn.localDescription,id:t});case 15:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e.onSignalingMessage=function(){var n=Object(k.a)(N.a.mark((function n(t){var r,a,c,s,i;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=JSON.parse(t.data),console.log(r),r.type!==J.ICE){n.next=8;break}return c=r,n.next=6,null===(a=e.serverConn)||void 0===a?void 0:a.addIceCandidate(c.data.candidate);case 6:n.next=17;break;case 8:if(r.type!==J.CONNECT){n.next=17;break}if(s=r,e.serverConn){n.next=12;break}return n.abrupt("return");case 12:for(e.userId=s.data.id,i=0;i<e.candidates.length;i++)e.signalingSend(J.ICE,{candidate:e.candidates[i]});return e.candidates.splice(0,e.candidates.length),n.next=17,e.serverConn.setRemoteDescription(s.data.description);case 17:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e}return t}(F),U=function(e){Object(A.a)(t,e);var n=Object(B.a)(t);function t(){var e;Object(E.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=n.call.apply(n,[this].concat(a))).users=[],e.sessionCreateResolve=null,e.onVideo=function(e){},e.onSignalingMessage=function(){var n=Object(k.a)(N.a.mark((function n(t){var r,a,c,s,i,o,l,d,u,h,j;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=JSON.parse(t.data)).type!==J.CONNECT){n.next=26;break}return a=r,c=new RTCPeerConnection(z),s=c.createDataChannel("general",{negotiated:!0,id:0}),i=[],o="",s.addEventListener("open",(function(e){console.log("Server: Con: ".concat(c.connectionState,", ICE: ").concat(c.iceConnectionState,", SIGNAL: ").concat(c.signalingState,"}")),c.onicecandidate=function(e){var n=e.candidate;n&&s.send(JSON.stringify({type:W.ICE,data:n}))},c.onnegotiationneeded=Object(k.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.setLocalDescription();case 3:s.send(JSON.stringify({type:W.SDP,data:c.localDescription})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))})),s.onmessage=function(){var e=Object(k.a)(N.a.mark((function e(n){var t,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=JSON.parse(n.data)).type!==W.SDP){e.next=18;break}return e.prev=2,r=t.data,console.log("New remote SDP, Type: ".concat(r.type)),e.next=7,c.setRemoteDescription(r);case 7:if("offer"!==r.type){e.next=11;break}return e.next=10,c.setLocalDescription();case 10:s.send(JSON.stringify({type:W.SDP,data:c.localDescription}));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0);case 16:e.next=27;break;case 18:if(t.type!==W.ICE){e.next=27;break}return e.prev=19,e.next=22,c.addIceCandidate(t.data);case 22:e.next=27;break;case 24:throw e.prev=24,e.t1=e.catch(19),e.t1;case 27:case"end":return e.stop()}}),e,null,[[2,13],[19,24]])})));return function(n){return e.apply(this,arguments)}}(),c.ontrack=function(n){e.onVideo(n)},c.oniceconnectionstatechange=function(){"failed"===c.iceConnectionState&&c.restartIce()},c.onicecandidate=function(n){var t=n.candidate;if(t&&(i.push(t),o)){for(var r=0;r<i.length;r++)e.signalingSend(J.ICE,{candidate:i[r]},l.id);i.splice(0,i.length)}},o=String(Math.floor(999999*Math.random())).padStart(6,"0"),l={name:"",sources:[],pc:c,id:o,dataChannel:s},e.users.push(l),n.next=17,c.setRemoteDescription(a.data.description);case 17:return n.next=19,c.setLocalDescription();case 19:if(c.localDescription){n.next=21;break}return n.abrupt("return");case 21:for(e.signalingSend(J.CONNECT,{description:c.localDescription,id:l.id},a.id),d=0;d<i.length;d++)e.signalingSend(J.ICE,{candidate:i[d]},l.id);i.splice(0,i.length),n.next=41;break;case 26:if(r.type!==J.ICE){n.next=40;break}u=r,h=0;case 29:if(!(h<e.users.length)){n.next=38;break}if(e.users[h].id!==u.id){n.next=35;break}return console.log("ADDED"),n.next=34,e.users[h].pc.addIceCandidate(u.data.candidate);case 34:return n.abrupt("break",38);case 35:h++,n.next=29;break;case 38:n.next=41;break;case 40:r.type===J.SESSION_CREATE&&(j=r,e.sessionCreateResolve&&e.sessionCreateResolve(j.data.id));case 41:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e}return Object(D.a)(t,[{key:"start",value:function(){var e=Object(k.a)(N.a.mark((function e(){var n=this;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(k.a)(N.a.mark((function e(t,r){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.sessionCreateResolve=t,e.next=3,n.signalingConnect();case 3:n.signalingSend(J.SESSION_CREATE,{id:""});case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),t}(F),H=function(){var e=Object(r.useState)(new V),n=Object(y.a)(e,2),t=n[0],a=(n[1],Object(r.useState)(new U)),c=Object(y.a)(a,2),s=c[0],i=(c[1],Object(r.useState)("")),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(r.createRef)();return Object(u.jsxs)("div",{className:"max-width",children:[Object(u.jsx)(h,{}),Object(u.jsx)("button",{onClick:function(){s.onVideo=function(e){console.log("Event:",e);var n=document.getElementById("video");n.srcObject=e.streams[0],console.log("SRC:",n.srcObject)},console.log("Starting Server..."),s.start().then((function(e){d(e),console.log("Server Started"),console.log("Session Id: ".concat(e))}))},children:"Start Server"}),Object(u.jsx)("input",{value:l,onChange:function(e){return d(e.target.value)}}),Object(u.jsx)("button",{onClick:function(){t.connect(l).then((function(){}))},children:"Join"}),Object(u.jsx)("video",{ref:j,id:"video"})]})};var q=function(){return Object(u.jsx)(i.a,{children:Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{path:"/start",children:Object(u.jsx)(f,{})}),Object(u.jsx)(o.a,{path:"/recordings",children:Object(u.jsx)(M,{})}),Object(u.jsx)(o.a,{path:"/join",children:Object(u.jsx)(j,{})}),Object(u.jsx)(o.a,{path:"/room",children:Object(u.jsx)(H,{})}),Object(u.jsx)(o.a,{path:"/session-end",children:Object(u.jsx)(p,{})}),Object(u.jsx)(o.a,{path:"/",children:Object(u.jsx)(S,{})})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,48)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,c=n.getLCP,s=n.getTTFB;t(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(q,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),G()}},[[45,1,2]]]);
//# sourceMappingURL=main.75c3f9fd.chunk.js.map